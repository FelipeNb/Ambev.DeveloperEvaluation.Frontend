<p-card>
  <div class="p-d-flex p-jc-between p-ai-center">
    <h4>Users</h4>
    <div>
      <button pButton label="Novo" (click)="openCreate()"></button>
    </div>
  </div>

  <p-table [value]="users$ | async" [loading]="loading$ | async">
    <ng-template pTemplate="header">
      <tr><th>Name</th><th>Email</th><th>Actions</th></tr>
    </ng-template>
    <ng-template pTemplate="body" let-row>
      <tr>
        <td>{{row.name}}</td>
        <td>{{row.email}}</td>
        <td>
          <button pButton icon="pi pi-pencil" (click)="openEdit(row)"></button>
          <button pButton icon="pi pi-trash" (click)="remove(row.id)"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</p-card>

<p-dialog header="User" [(visible)]="displayDialog" [modal]="true">
  <div class="p-fluid">
    <div class="p-field"><label>Name</label><input pInputText name="name" [(ngModel)]="user.name" required></div>
    <div class="p-field"><label>Email</label><input pInputText name="email" [(ngModel)]="user.email"></div>
  </div>
  <p-footer>
    <button pButton label="Salvar" (click)="save()" [disabled]="!user.name"></button>
  </p-footer>
</p-dialog>
